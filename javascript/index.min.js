document.addEventListener("DOMContentLoaded",(function(){var e=null,t=null;let a=new AWN;var n={pplain:'{"identifier":"tmSimulatorDelanoMartin","elements":[{"data":{"id":"q0","name":"init","start":true,"accept":false,"reject":false},"position":{"x":91.8766563881729,"y":30.824337354842452},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q1","name":"q0"},"position":{"x":-22.007182566240264,"y":95.81563811940285},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q2","name":"q\'0"},"position":{"x":-23.19968349770009,"y":216.85448266257495},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q3","name":"q1"},"position":{"x":246.4950761868999,"y":70.32162750199124},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q4","name":"q\'1"},"position":{"x":209.93424860269548,"y":216.25823219684506},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q5","name":"q2"},"position":{"x":88.29915359379345,"y":221.02823592268436},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q6","name":"accept","accept":true,"start":false,"reject":false},"position":{"x":42.38786773259021,"y":110.72189976265064},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q7","name":"reject","reject":true,"start":false,"accept":false},"position":{"x":140.17294411229577,"y":105.35564557108142},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"source":"q0","target":"q1","id":"967047c6-c68d-456c-a873-6dff2abd63bb","transitions":[{"currentSymbol":"0","nextSymbol":"_","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q1","target":"q2","id":"819c0ab4-6c9c-459b-8301-d9a6fd1925d2","transitions":[{"currentSymbol":"_","nextSymbol":"_","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q0","target":"q3","id":"2920fece-b9ef-4ed6-b027-424f71062ec2","transitions":[{"currentSymbol":"1","nextSymbol":"_","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q3","target":"q4","id":"55bd8f5c-6a1f-4bde-823a-a4f321a96700","transitions":[{"currentSymbol":"_","nextSymbol":"_","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q4","target":"q7","id":"da73f346-7f34-4f46-b24d-27d2ec8a962c","transitions":[{"currentSymbol":"0","nextSymbol":"0","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q4","target":"q6","id":"ffa4b58e-6359-4cc8-a958-96863d350dba","transitions":[{"currentSymbol":"_","nextSymbol":"_","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q2","target":"q6","id":"73826ed8-c227-4b2c-b07f-7c000d564aa0","transitions":[{"currentSymbol":"_","nextSymbol":"_","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q2","target":"q7","id":"579d2b39-58c5-4f45-b8c6-5292debddcde","transitions":[{"currentSymbol":"1","nextSymbol":"1","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q2","target":"q5","id":"90933c60-295e-4f0a-ac6c-df8fdd5eb302","transitions":[{"currentSymbol":"0","nextSymbol":"_","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q4","target":"q5","id":"a9e61f96-243a-4f0c-a4ad-2a08cca66a97","transitions":[{"currentSymbol":"1","nextSymbol":"_","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q1","target":"q1","id":"9b406ca2-53cd-4b6f-b7cf-407999cbbffe","transitions":[{"currentSymbol":"1","nextSymbol":"1","direction":"R"},{"currentSymbol":"0","nextSymbol":"0","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q3","target":"q3","id":"8b757fa9-4e37-42e7-bfb2-b79dc27b3867","transitions":[{"currentSymbol":"1","nextSymbol":"1","direction":"R"},{"currentSymbol":"0","nextSymbol":"0","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q5","target":"q5","id":"d79619ae-3a34-4846-9783-208de9c5b4a8","transitions":[{"currentSymbol":"0","nextSymbol":"0","direction":"L"},{"currentSymbol":"1","nextSymbol":"1","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q5","target":"q0","id":"6ae6470b-7c18-4d1d-bc79-53d7839242e1","transitions":[{"currentSymbol":"_","nextSymbol":"_","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q0","target":"q6","id":"4ce32096-df86-4aa5-8a50-b5cbc9f73450","transitions":[{"currentSymbol":"_","nextSymbol":"_","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""}],"transitionFunction":{"q1,1":["q1","1","R"],"q1,0":["q1","0","R"],"q1,_":["q2","_","L"],"q2,_":["q6","_","R"],"q2,1":["q7","1","R"],"q2,0":["q5","_","L"],"q0,0":["q1","_","R"],"q0,1":["q3","_","R"],"q3,1":["q3","1","R"],"q3,0":["q3","0","R"],"q3,_":["q4","_","L"],"q4,1":["q5","_","L"],"q0,_":["q6","_","R"],"q4,0":["q7","0","R"],"q4,_":["q6","_","R"],"q5,_":["q0","_","R"],"q5,0":["q5","0","L"],"q5,1":["q5","1","L"]},"startState":"q0","acceptState":"q6","rejectState":"q7"}',zero_n_one_n:'{"identifier":"tmSimulatorDelanoMartin","elements":[{"data":{"id":"q0","name":"q0"},"position":{"x":163.37581294648103,"y":15.262560289335054},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q1","name":"q1"},"position":{"x":307.6350147239732,"y":12.075724509825859},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q2","name":"q2"},"position":{"x":299.5786394573782,"y":164.1878877094151},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q3","name":"Start","start":true,"accept":false,"reject":false},"position":{"x":162.47406890551082,"y":162.4750026659847},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q4","name":"Reject","reject":true,"start":false,"accept":false},"position":{"x":79.47933550952126,"y":67.63752818254618},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q5","name":"Accept","accept":true,"start":false,"reject":false},"position":{"x":82.37382176094177,"y":155.8395502085967},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"source":"q0","target":"q0","id":"4bb5dc06-dc1f-43a5-a995-8d725d7a3d76","transitions":[{"currentSymbol":"0","nextSymbol":"0","direction":"L"},{"currentSymbol":"1","nextSymbol":"1","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q0","target":"q3","id":"2e03584a-6094-45c9-a03a-2ea1e376fdbb","transitions":[{"currentSymbol":"_","nextSymbol":"_","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q3","target":"q2","id":"52c75f09-7ad5-4c91-9bc3-172d599fbdf4","transitions":[{"currentSymbol":"0","nextSymbol":"_","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q2","target":"q1","id":"fbe2a660-2562-4945-ab1e-17249dbc7eb6","transitions":[{"currentSymbol":"_","nextSymbol":"_","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q1","target":"q0","id":"55215718-78f8-4c83-b7cb-3a685d2ae2f6","transitions":[{"currentSymbol":"1","nextSymbol":"_","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q1","target":"q4","id":"f120873d-c834-41a0-a48e-984a37066de6","transitions":[{"currentSymbol":"_","nextSymbol":"_","direction":"R"},{"currentSymbol":"0","nextSymbol":"0","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q2","target":"q2","id":"983ada42-5c03-4ae9-abe1-7ccca1fb28ff","transitions":[{"currentSymbol":"0","nextSymbol":"0","direction":"R"},{"currentSymbol":"1","nextSymbol":"1","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q3","target":"q5","id":"9f9f2860-cdba-400e-b9ba-e1b02d1d5d09","transitions":[{"currentSymbol":"_","nextSymbol":"_","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q3","target":"q4","id":"5b381eeb-a5ba-4923-b5cb-59b383d85c9a","transitions":[{"currentSymbol":"1","nextSymbol":"_","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""}],"transitionFunction":{"q3,0":["q2","_","R"],"q2,0":["q2","0","R"],"q2,1":["q2","1","R"],"q2,_":["q1","_","L"],"q1,_":["q4","_","R"],"q1,0":["q4","0","R"],"q0,0":["q0","0","L"],"q0,1":["q0","1","L"],"q0,_":["q3","_","R"],"q3,1":["q4","_","R"],"q3,_":["q5","_","R"],"q1,1":["q0","_","L"]},"startState":"q3","acceptState":"q5","rejectState":"q4"}',anbncn:'{"identifier":"tmSimulatorDelanoMartin","elements":[{"data":{"id":"q0","name":"Start","start":true,"accept":false,"reject":false},"position":{"x":81.37142333064328,"y":56.79999634175521},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q1","name":"q1"},"position":{"x":242.51427009497897,"y":68.22856703426129},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q2","name":"q2"},"position":{"x":424.2285441058256,"y":59.657139014881736},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q3","name":"q3"},"position":{"x":405.94283099781586,"y":207.6571294828354},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q4","name":"q4"},"position":{"x":68.7999955688866,"y":203.6571297404583},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q5","name":"Accept","accept":true,"start":false,"reject":false},"position":{"x":238.51427035260184,"y":188.79998784020037},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"source":"q0","target":"q1","id":"60fc38ce-070c-4364-b97f-ceb1b72496f8","transitions":[{"currentSymbol":"a","nextSymbol":"x","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q1","target":"q1","id":"e15a44da-cbbf-4047-a3e5-c176dd72b096","transitions":[{"currentSymbol":"a","nextSymbol":"a","direction":"R"},{"currentSymbol":"y","nextSymbol":"y","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q1","target":"q2","id":"5174f6d0-6242-4135-9021-eedc1611c022","transitions":[{"currentSymbol":"b","nextSymbol":"y","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q2","target":"q2","id":"29b24512-e79a-4f3d-a5fe-54a1a42a8426","transitions":[{"currentSymbol":"b","nextSymbol":"b","direction":"R"},{"currentSymbol":"z","nextSymbol":"z","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q2","target":"q3","id":"b95bef82-2e65-493a-9ac6-b272c0089eb9","transitions":[{"currentSymbol":"c","nextSymbol":"z","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q3","target":"q0","id":"659fef5a-2d2c-439a-a748-a167246f93c7","transitions":[{"currentSymbol":"x","nextSymbol":"x","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q0","target":"q4","id":"63b94f57-6508-4f6a-9850-e03c32a9409b","transitions":[{"currentSymbol":"y","nextSymbol":"y","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q4","target":"q4","id":"d0d71c89-7ac0-48a8-8b3a-67896146040f","transitions":[{"currentSymbol":"y","nextSymbol":"y","direction":"R"},{"currentSymbol":"z","nextSymbol":"z","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q4","target":"q5","id":"92186ef8-4de6-468a-9847-15e3e20ed01a","transitions":[{"currentSymbol":"_","nextSymbol":"_","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q3","target":"q3","id":"d93cfc58-694f-4b89-85a0-3b453c4374a2","transitions":[{"currentSymbol":"z","nextSymbol":"z","direction":"L"},{"currentSymbol":"b","nextSymbol":"b","direction":"L"},{"currentSymbol":"y","nextSymbol":"y","direction":"L"},{"currentSymbol":"a","nextSymbol":"a","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"id":"q6","name":"Reject","reject":true,"start":false,"accept":false},"position":{"x":532.7999656846334,"y":123.65713489291572},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""}],"transitionFunction":{"q0,a":["q1","x","R"],"q1,a":["q1","a","R"],"q1,y":["q1","y","R"],"q1,b":["q2","y","R"],"q2,b":["q2","b","R"],"q2,z":["q2","z","R"],"q2,c":["q3","z","L"],"q3,z":["q3","z","L"],"q3,b":["q3","b","L"],"q3,y":["q3","y","L"],"q3,a":["q3","a","L"],"q3,x":["q0","x","R"],"q4,_":["q5","_","R"],"q4,y":["q4","y","R"],"q4,z":["q4","z","R"],"q0,y":["q4","y","R"]},"startState":"q0","acceptState":"q5","rejectState":"q6"}',evenpalindrome:'{"identifier":"tmSimulatorDelanoMartin","elements":[{"data":{"id":"q0","name":"Start","start":true,"accept":false,"reject":false},"position":{"x":25.935791232417873,"y":147.04565337498593},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q1","name":"q1"},"position":{"x":100.20127273493603,"y":60.783440245137925},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q2","name":"q2"},"position":{"x":248.7481069390083,"y":48.7859306178553},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"source":"q1","target":"q1","id":"e95f1514-b0e5-4a7c-99ae-96d253b503d8","transitions":[{"currentSymbol":"a","nextSymbol":"a","direction":"R"},{"currentSymbol":"b","nextSymbol":"b","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"id":"q3","name":"q3"},"position":{"x":459.56229061835387,"y":47.641673148689776},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"source":"q3","target":"q3","id":"65079dd9-6066-41cc-a720-daa28b901fd3","transitions":[{"currentSymbol":"a","nextSymbol":"a","direction":"L"},{"currentSymbol":"b","nextSymbol":"b","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"id":"q4","name":"Accept","accept":true,"start":false,"reject":false},"position":{"x":456.7009467454827,"y":136.76165135162648},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q5","name":"q5"},"position":{"x":118.48698584294577,"y":253.3080208167101},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q6","name":"q6"},"position":{"x":316.16531522548405,"y":262.44885457083785},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q7","name":"q7"},"position":{"x":450.99226299888926,"y":204.17154643854647},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"source":"q0","target":"q1","id":"d74ab97f-5666-4344-a79a-3e21b071d9f4","transitions":[{"currentSymbol":"a","nextSymbol":"*","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q1","target":"q2","id":"a5cb28dd-2b90-420c-9ff2-6c52fc5b5819","transitions":[{"currentSymbol":"_","nextSymbol":"_","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q2","target":"q3","id":"ecd4326e-1857-45dd-864d-21ab33a3611f","transitions":[{"currentSymbol":"a","nextSymbol":"_","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q3","target":"q0","id":"aef3f2de-e3e5-474f-9f71-7925820b64dc","transitions":[{"currentSymbol":"*","nextSymbol":"*","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q0","target":"q5","id":"112b9328-b934-45a9-9fa3-aa06123d21ed","transitions":[{"currentSymbol":"b","nextSymbol":"*","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q5","target":"q5","id":"317ff0e9-42ef-4a65-959e-d95f867b1d52","transitions":[{"currentSymbol":"a","nextSymbol":"a","direction":"R"},{"currentSymbol":"b","nextSymbol":"b","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q5","target":"q6","id":"7d7d3ad7-8eeb-4aaf-b768-1e1319f23ab3","transitions":[{"currentSymbol":"_","nextSymbol":"_","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q6","target":"q7","id":"d0bcd409-6d86-4479-952a-5013309d016f","transitions":[{"currentSymbol":"b","nextSymbol":"_","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q7","target":"q7","id":"8abb3a8a-7c2e-4c90-9f45-9b20e855146a","transitions":[{"currentSymbol":"b","nextSymbol":"b","direction":"L"},{"currentSymbol":"a","nextSymbol":"a","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q7","target":"q0","id":"36caa69f-3261-4223-b6d7-874a09b5e589","transitions":[{"currentSymbol":"*","nextSymbol":"*","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q0","target":"q4","id":"9f4a7a5f-99cb-4b68-b09f-24bef5776847","transitions":[{"currentSymbol":"_","nextSymbol":"_","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"id":"q8","name":"Reject","reject":true,"start":false,"accept":false},"position":{"x":565.2203909013059,"y":252.6871277765529},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""}],"transitionFunction":{"q0,a":["q1","*","R"],"q1,a":["q1","a","R"],"q1,b":["q1","b","R"],"q1,_":["q2","_","L"],"q2,a":["q3","_","L"],"q3,a":["q3","a","L"],"q3,b":["q3","b","L"],"q3,*":["q0","*","R"],"q0,_":["q4","_","L"],"q7,*":["q0","*","R"],"q0,b":["q5","*","R"],"q5,a":["q5","a","R"],"q5,b":["q5","b","R"],"q5,_":["q6","_","L"],"q6,b":["q7","_","L"],"q7,b":["q7","b","L"],"q7,a":["q7","a","L"]},"startState":"q0","acceptState":"q4","rejectState":"q8"}',same_num_1s_0s:'{"identifier":"tmSimulatorDelanoMartin","elements":[{"data":{"id":"q5","name":"Reject","reject":true,"start":false,"accept":false},"position":{"x":521.9919347582872,"y":205.374279678426},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q1","name":"q1"},"position":{"x":91.00211756334748,"y":105.41915226275839},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q2","name":"q2"},"position":{"x":511.3151492312046,"y":104.91254494168223},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q3","name":"q3"},"position":{"x":282.59814326358634,"y":207.7945810430188},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q4","name":"Accept","accept":true,"start":false,"reject":false},"position":{"x":482.72694839229626,"y":24.357182461112274},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q0","name":"Start","start":true,"accept":false,"reject":false},"position":{"x":283.9069152906075,"y":20.385463531181347},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"source":"q0","target":"q4","id":"1e7ae211-cfdf-4e2a-8fb0-67c7c0ca6f04","transitions":[{"currentSymbol":"_","nextSymbol":"_","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q0","target":"q2","id":"7eb3712b-0532-450e-a2d4-66e2886fe6fe","transitions":[{"currentSymbol":"1","nextSymbol":"x","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q2","target":"q3","id":"b55cc0ae-865f-407d-b8c7-7b5be6e29a81","transitions":[{"currentSymbol":"0","nextSymbol":"x","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q2","target":"q2","id":"7cb23667-7071-494c-b616-5437eebe3a1d","transitions":[{"currentSymbol":"1","nextSymbol":"1","direction":"R"},{"currentSymbol":"x","nextSymbol":"x","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q0","target":"q0","id":"81d1adfb-c303-40a1-abfd-1e3218bfb348","transitions":[{"currentSymbol":"x","nextSymbol":"x","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q3","target":"q3","id":"9c92d627-3cff-43a1-aab6-5fa5100b72da","transitions":[{"currentSymbol":"1","nextSymbol":"1","direction":"L"},{"currentSymbol":"0","nextSymbol":"0","direction":"L"},{"currentSymbol":"x","nextSymbol":"x","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q3","target":"q0","id":"cf7387ac-07e1-4658-aa08-5eeade6b8982","transitions":[{"currentSymbol":"_","nextSymbol":"_","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q1","target":"q3","id":"87e3616b-30e6-416f-85b5-b9b8d5fd8dd8","transitions":[{"currentSymbol":"1","nextSymbol":"x","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q1","target":"q1","id":"2facf1b9-9e09-4ece-bbd1-b75ca3dfbdca","transitions":[{"currentSymbol":"0","nextSymbol":"0","direction":"R"},{"currentSymbol":"x","nextSymbol":"x","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q0","target":"q1","id":"37163b79-001f-4d23-939a-e9c7fdaf7c19","transitions":[{"currentSymbol":"0","nextSymbol":"x","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""}],"transitionFunction":{"q0,x":["q0","x","R"],"q0,_":["q4","_","L"],"q0,1":["q2","x","R"],"q2,1":["q2","1","R"],"q2,x":["q2","x","R"],"q2,0":["q3","x","L"],"q3,1":["q3","1","L"],"q3,0":["q3","0","L"],"q3,x":["q3","x","L"],"q1,1":["q3","x","L"],"q3,_":["q0","_","R"],"q0,0":["q1","x","R"],"q1,0":["q1","0","R"],"q1,x":["q1","x","R"]},"startState":"q0","acceptState":"q4","rejectState":"q5"}',no111:'{"identifier":"tmSimulatorDelanoMartin","elements":[{"data":{"id":"q0","name":"Start","start":true,"accept":false,"reject":false},"position":{"x":142.0690257082106,"y":45.93931686272631},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q1","name":"q1"},"position":{"x":-5.637327080869054,"y":125.22937159047052},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q2","name":"q2"},"position":{"x":223.97793402183459,"y":216.8183399152645},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q3","name":"Reject","reject":true,"start":false,"accept":false},"position":{"x":89.23014851494224,"y":235.7257610720996},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q4","name":"Accept","accept":true,"start":false,"reject":false},"position":{"x":304.6594806745477,"y":110.24452714710907},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"source":"q0","target":"q4","id":"edaed8bc-75ac-4834-b258-309395e0fa63","transitions":[{"currentSymbol":"_","nextSymbol":"_","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q0","target":"q0","id":"8d5f1ea2-161c-4294-97c9-01d6ba847405","transitions":[{"currentSymbol":"0","nextSymbol":"0","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q0","target":"q1","id":"228d48a1-4fe0-4d4d-a463-e03d4af76bd2","transitions":[{"currentSymbol":"1","nextSymbol":"1","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q1","target":"q0","id":"d6a8fbc9-04d0-4f0d-acca-fc17b953a466","transitions":[{"currentSymbol":"0","nextSymbol":"0","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q1","target":"q4","id":"5b262999-836d-44f8-ad6d-c1bbeded826a","transitions":[{"currentSymbol":"_","nextSymbol":"_","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q1","target":"q2","id":"7cb314e0-7115-4f13-99cf-eaaec47746cf","transitions":[{"currentSymbol":"1","nextSymbol":"1","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q2","target":"q4","id":"a6d00f01-ac7a-4d09-a462-2f8190f3477b","transitions":[{"currentSymbol":"_","nextSymbol":"_","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q2","target":"q0","id":"0c2397ce-1f3a-484e-8cbb-eed5864c74b2","transitions":[{"currentSymbol":"0","nextSymbol":"0","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q2","target":"q3","id":"ef03ac7c-0de7-47c8-8db3-a1ad9cc0eec1","transitions":[{"currentSymbol":"1","nextSymbol":"1","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""}],"transitionFunction":{"q0,0":["q0","0","R"],"q1,0":["q0","0","R"],"q0,1":["q1","1","R"],"q0,_":["q4","_","R"],"q1,_":["q4","_","R"],"q2,0":["q0","0","R"],"q1,1":["q2","1","R"],"q2,_":["q4","_","R"],"q2,1":["q3","1","R"]},"startState":"q0","acceptState":"q4","rejectState":"q3"}',unary_0_addition:'{"identifier":"tmSimulatorDelanoMartin","elements":[{"data":{"id":"q0","name":"Start","start":true,"accept":false,"reject":false},"position":{"x":15.657141848733337,"y":103.08570764640484},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q1","name":"q1"},"position":{"x":122.51427782366508,"y":95.65713669627588},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q2","name":"q2"},"position":{"x":243.65712716422948,"y":112.22856420040969},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"id":"q3","name":"Accept","accept":true,"start":false,"reject":false},"position":{"x":360.2285482277915,"y":116.22856394278683},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""},{"data":{"source":"q0","target":"q1","id":"16c48d1f-0345-46c9-a81b-67b732883fe5","transitions":[{"currentSymbol":"_","nextSymbol":"0","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q1","target":"q2","id":"081da5ab-f37b-48b7-97e8-342af808a8aa","transitions":[{"currentSymbol":"_","nextSymbol":"_","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q2","target":"q3","id":"125c1433-a87b-4ad9-b512-325c05d5ee1a","transitions":[{"currentSymbol":"0","nextSymbol":"_","direction":"L"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q0","target":"q0","id":"75b6034e-f56b-4646-a9f4-55580a0ad9ae","transitions":[{"currentSymbol":"0","nextSymbol":"0","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"source":"q1","target":"q1","id":"70853885-e3e9-4483-bb71-9ae92bf3a67e","transitions":[{"currentSymbol":"0","nextSymbol":"0","direction":"R"}]},"position":{"x":0,"y":0},"group":"edges","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":true,"classes":""},{"data":{"id":"q4","name":"Reject","reject":true,"start":false,"accept":false},"position":{"x":418.5142587595725,"y":217.94284310609092},"group":"nodes","removed":false,"selected":false,"selectable":true,"locked":false,"grabbable":true,"pannable":false,"classes":""}],"transitionFunction":{"q0,0":["q0","0","R"],"q0,_":["q1","0","R"],"q1,0":["q1","0","R"],"q1,_":["q2","_","L"],"q2,0":["q3","_","L"]},"startState":"q0","acceptState":"q3","rejectState":"q4"}'},l=null,s=null,o=null,r=[],d={},c=window.cy=cytoscape({wheelSensitivity:.075,zoom:1.75,boxSelectionEnabled:!0,container:document.getElementById("cy"),layout:{name:"grid",rows:2,cols:2},style:[{selector:"node[name]",style:{content:"data(name)","text-valign":"center","text-halign":"center","font-size":"8px","font-weight":"bold","border-width":1,"border-color":"#111827","text-wrap":"wrap","text-max-width":10,width:"30px",height:"30px"}},{selector:"edge",style:{width:1.5,"curve-style":"bezier","target-arrow-shape":"triangle","font-size":"10px"}},{selector:".eh-handle",style:{"background-color":"#111287",width:12,height:12,shape:"ellipse","overlay-opacity":0,"border-width":12,"border-opacity":0}},{selector:".eh-hover",style:{"background-color":"#111287"}},{selector:".eh-source",style:{"border-width":2,"border-color":"#111287"}},{selector:".eh-target",style:{"border-width":2,"border-color":"#111287"}},{selector:".eh-preview, .eh-ghost-edge",style:{"background-color":"#111287","line-color":"#111287","target-arrow-color":"#111287","source-arrow-color":"#111287"}},{selector:".eh-ghost-edge.eh-preview-active",style:{opacity:0}}],elements:{nodes:[],edges:[]}});function i(){11===r.length&&r.shift();const e={elements:c.elements().jsons(),transitionFunction:d,startState:l,acceptState:s,rejectState:o},t=JSON.stringify(e);var a=LZString.compress(t);r.push(a),console.log("snap taken"),console.log(r);const n=JSON.stringify(r).length/1024;console.log("Size of snapshots array: "+n.toFixed(2)+" KB")}function u(){const e={elements:c.elements().jsons(),transitionFunction:d,startState:l,acceptState:s,rejectState:o};var t=JSON.stringify(e),a=LZString.compress(t);localStorage.setItem("snapshot",a)}function b(e){var t=JSON.stringify(e),a=LZString.compress(t);localStorage.setItem("snapshot",a)}function m(e){c.nodes().forEach((t=>{t!==e&&!0===t.data("start")&&(t.data("start",!1),t.style("border-color","black"),t.style("border-width","1"))})),e.data("start",!0),e.data("accept",!1),e.data("reject",!1),e.style("border-color","green"),e.style("border-width","3"),e.id()===o?o=null:e.id()===s&&(s=null),l=e.id(),i(),u()}function f(e){if(c.edges(`[source = "${e.id()}"]`).length>0)return a.info("Accept states cannot have outgoing edges. Remove any outgoing edges from this state first.",{durations:{info:3e3},labels:{info:"Oops!"}}),void(document.getElementById("accept-state").checked=!1);c.nodes().forEach((t=>{t!==e&&!0===t.data("accept")&&(t.data("accept",!1),t.style("border-color","black"),t.style("border-width","1"))})),e.data("accept",!0),e.data("start",!1),e.data("reject",!1),e.style("border-color","blue"),e.style("border-width","3"),e.id()===l?l=null:e.id()===o&&(o=null),s=e.id(),i(),u()}function g(e){if(c.edges(`[source = "${e.id()}"]`).length>0)return a.info("Reject states cannot have outgoing edges. Remove any outgoing edges from this state first.",{durations:{info:3e3},labels:{info:"Oops!"}}),void(document.getElementById("reject-state").checked=!1);c.nodes().forEach((t=>{t!==e&&!0===t.data("reject")&&(t.data("reject",!1),t.style("border-color","black"),t.style("border-width","1"))})),e.data("reject",!0),e.data("start",!1),e.data("accept",!1),e.style("border-color","red"),e.style("border-width","3"),e.id()===l?l=null:e.id()===s&&(s=null),o=e.id(),i(),u()}function p(e){e.data("start",!1),e.data("accept",!1),e.data("reject",!1),e.style("border-color","black"),e.style("border-width","1"),null!==document.getElementById("start-state")&&(document.getElementById("start-state").checked=!1),null!==document.getElementById("accept-state")&&(document.getElementById("accept-state").checked=!1),null!==document.getElementById("reject-state")&&(document.getElementById("reject-state").checked=!1),e.id()===l?l=null:e.id()===s?s=null:e.id()===o&&(o=null)}function y(e){e.remove();for(var t=e.style("label").split(","),a=0;a<t.length;a++){var n=e.source().id()+","+t[a].split("(")[1];delete d[n]}q(),console.log("transitionFunction after edge deleted",d),i(),u()}function x(e){e.data("start")&&(l=null),e.data("accept")&&(s=null),e.data("reject")&&(o=null),e.remove(),q(),console.log(d),i(),u()}function v(e,t=0){var a=document.getElementById("tape");a.innerHTML="";Array.from(e.entries()).sort((([e],[t])=>e-t)).forEach((([e,n])=>{const l=document.createElement("div");l.className="tape-cell",l.textContent=n,e===t&&l.classList.add("current-cell"),a.appendChild(l)}))}function h(){c.elements().remove(),l=null,s=null,o=null,d={},i(),u()}function q(){document.getElementById("control").innerHTML=' <p class="text-center text-lg font-bold">Control Panel</p>\n\n      \n\n      <div class="flex flex-col p-2">\n      \n        <label for="tm" class="text-center text-lg font-semibold">Tape input:</label>\n        <input type="text" name="tm" id="tminput" autocomplete="tm"\n          class="mt-1 p-2 w-full border-gray-300 focus:ring-blue-500 bg-gray-50 rounded-sm text-black font-bold">\n\n          <label for="speed" class="text-center text-lg font-semibold mt-2">Animation Speed:</label>\n          <select id="speed" class="mt-1 p-2 w-full border-gray-300 focus:ring-blue-500 bg-gray-50 rounded-sm text-black font-bold">\n            <option value="3500">Slower</option>\n            <option value="1000">Slow</option>\n            <option value="500">Medium</option>\n            <option value="250" selected>Fast</option>\n            <option value="150">Faster</option>\n            <option value="50">Fastest</option>\n            <option value="0">"Instant"</option>\n          </select>\n          \n        <button\n          class="text-white bg-[#111827] hover:bg-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-[#111827] dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 m-2"\n          type="button" id="runtm">Run</button>\n          <button\n          class="hidden text-white bg-[#111827] hover:bg-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-[#111827] dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 m-2"\n          type="button" id="tmhalt">Stop</button>\n           <button\n            class="text-white bg-[#111827] hover:bg-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-[#111827] dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 m-2"\n            type="button" id="clearCanvas">Clear Canvas</button>\n      </div>\n      \n      <div id="tmStatusDiv" class=" border-[#FAF0E6] border-2 border-dashed m-2 rounded-md">\n      <p class="text-center text-lg font-semibold" id="tmStatus"></p>\n    </div>\n\n    \n\n';var e=document.getElementById("tminput");null!==t&&(e.value=t),e.addEventListener("input",(function(){t=e.value,console.log(t)})),document.getElementById("runtm").addEventListener("click",(function(){var e=document.getElementById("tminput").value;if(null==l)return document.getElementById("tmStatusDiv").style.borderColor="red",void(document.getElementById("tmStatus").innerHTML='<p class="text-center text-red-600 text-lg font-semibold" id="tmStatus">\n        Please select a start state.\n        </p>');if(null==s)return document.getElementById("tmStatusDiv").style.borderColor="red",void(document.getElementById("tmStatus").innerHTML='<p class="text-center text-red-600 text-lg font-semibold" id="tmStatus">\n        Please select an accept state.\n        </p>');if(null==o)return document.getElementById("tmStatusDiv").style.borderColor="red",void(document.getElementById("tmStatus").innerHTML='<p class="text-center text-red-600 text-lg font-semibold" id="tmStatus">\n        Please select a reject state.\n        </p>');document.getElementById("tmStatus").innerHTML="",document.getElementById("tmStatusDiv").style.borderColor="#FAF0E6";var t=l,a=[s,o],n=d,r=document.getElementById("speed").value,c=new M(e,t,n,a,r);c.run();var i=document.getElementById("tmhalt");document.getElementById("tmhalt").classList.remove("hidden"),i.addEventListener("click",(function(){c.halt(!0),c.haltFlag=!0,v([],0),document.getElementById("tmhalt").classList.add("hidden")}))})),document.getElementById("clearCanvas").addEventListener("click",(function(){h()}))}function S(t){var a=t;e=a;var n=`\n<div class="p-2 m-2" id="${a.id()}">\n\n<div class="flex items-center mb-2">\n<svg class="w-6 h-6 mr-2 cursor-pointer" fill="none" id="mainControlPanel" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>\n</svg>\n<p class="text-lg text-center font-bold text-black">Edge panel</p>\n</div>\n\n<button class="text-white bg-[#111827] hover:bg-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-[#111827] dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 w-full mb-2" type="button" id="addTransition" >Add Transition</button>\n\n<button class="text-white bg-[#111827] hover:bg-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-[#111827] dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 w-full mb-2" type="button" id="deleteTransitions" >Delete Transitions</button>\n\n<button class="text-white bg-[#111827] hover:bg-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-[#111827] dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 w-full mb-2" type="button" id="deleteEdge" >Delete Edge</button>\n\n\n\n</div>\n`;document.getElementById("control").innerHTML=n,document.getElementById("mainControlPanel").addEventListener("click",(function(){q(),c.edges().forEach((e=>{e.unselect()}))})),document.getElementById("addTransition").addEventListener("click",(function(){document.getElementById("modalTransition").classList.remove("hidden")})),document.getElementById("deleteTransitions").addEventListener("click",(function(){document.getElementById("modalTransitionDelete").classList.remove("hidden");const t=`Transitions: "${a.source().data("name")}" to "${a.target().data("name")}"`;deleteTransitionsTitle.textContent=t;var n=e.data("transitions");console.log(n);var l="";if(void 0===n||0===n.length)return document.getElementById("deleteTransitionsBody").innerHTML='<p class="text-center text-lg font-bold">No transitions to delete</p>',void document.getElementById("deleteTransitionsSubmit").classList.add("hidden");document.getElementById("deleteTransitionsSubmit").classList.remove("hidden");for(var s=0;s<n.length;s++){var o=n[s];l+=`\n<div class="transition-item">\n  <input type="checkbox" id="transition${s}" data-index="${s}">\n  <label for="transition${s}">(${o.currentSymbol}, ${o.nextSymbol}, ${o.direction})</label>\n</div>\n`}document.getElementById("deleteTransitionsBody").innerHTML=l})),document.getElementById("deleteEdge").addEventListener("click",(function(){y(a)}))}async function k(e){F(),l=e.startState,s=e.acceptState,o=e.rejectState,c.elements().length>0&&await c.elements().remove(),d=e.transitionFunction,await c.json(e),c.nodes().forEach((e=>{void 0===e.data("name")&&e.remove()})),c.edges().forEach((e=>{var t=e.source().id();e.target().id();if(e.data("transitions")){var a=e.data("transitions").map((e=>{var a=t+","+e.currentSymbol,n=d[a];return{currentSymbol:e.currentSymbol,nextSymbol:n[1],direction:n[2]}}));e.data("transitions",a);var n=a.map((e=>`(${e.currentSymbol}, ${e.nextSymbol}, ${e.direction})`)).join(", ");e.style({label:n,"text-wrap":"wrap","text-background-shape":"roundrectangle","font-size":"8px","font-family":"Arial, sans-serif","text-background-color":"#999999","text-background-opacity":.8})}})),null!=l&&m(c.$("#"+l)),null!=s&&f(c.$("#"+s)),null!=o&&g(c.$("#"+o)),await c.fit(),D()}async function E(e){var t;F(),l=e.startState,s=e.acceptState,o=e.rejectState,c.elements().length>0&&await c.elements().remove(),d=e.transitionFunction,await c.json(e),c.nodes().forEach((e=>{void 0===e.data("name")&&e.remove()})),c.edges().forEach((e=>{var t=e.source().id();e.target().id();if(e.data("transitions")){var a=e.data("transitions").map((e=>{var a=t+","+e.currentSymbol,n=d[a];return{currentSymbol:e.currentSymbol,nextSymbol:n[1],direction:n[2]}}));e.data("transitions",a);var n=a.map((e=>`(${e.currentSymbol}, ${e.nextSymbol}, ${e.direction})`)).join(", ");e.style({label:n,"text-wrap":"wrap","text-background-shape":"roundrectangle","font-size":"8px","font-family":"Arial, sans-serif","text-background-color":"#999999","text-background-opacity":.8})}})),null!=l&&(t=c.$("#"+l),c.nodes().forEach((e=>{e!==t&&!0===e.data("start")&&(e.data("start",!1),e.style("border-color","black"),e.style("border-width","1"))})),t.data("start",!0),t.data("accept",!1),t.data("reject",!1),t.style("border-color","green"),t.style("border-width","3"),t.id()===o?o=null:t.id()===s&&(s=null),l=t.id()),null!=s&&function(e){if(c.edges(`[source = "${e.id()}"]`).length>0)return a.info("Accept states cannot have outgoing edges. Remove any outgoing edges from this state first.",{durations:{info:3e3},labels:{info:"Oops!"}}),void(document.getElementById("accept-state").checked=!1);c.nodes().forEach((t=>{t!==e&&!0===t.data("accept")&&(t.data("accept",!1),t.style("border-color","black"),t.style("border-width","1"))})),e.data("accept",!0),e.data("start",!1),e.data("reject",!1),e.style("border-color","blue"),e.style("border-width","3"),e.id()===l?l=null:e.id()===o&&(o=null),s=e.id()}(c.$("#"+s)),null!=o&&function(e){if(c.edges(`[source = "${e.id()}"]`).length>0)return a.info("Reject states cannot have outgoing edges. Remove any outgoing edges from this state first.",{durations:{info:3e3},labels:{info:"Oops!"}}),void(document.getElementById("reject-state").checked=!1);c.nodes().forEach((t=>{t!==e&&!0===t.data("reject")&&(t.data("reject",!1),t.style("border-color","black"),t.style("border-width","1"))})),e.data("reject",!0),e.data("start",!1),e.data("accept",!1),e.style("border-color","red"),e.style("border-width","3"),e.id()===l?l=null:e.id()===s&&(s=null),o=e.id()}(c.$("#"+o)),c.elements().unselect(),D()}if(c.on("remove","edge",(function(e){for(var t=e.target,a=t.style("label").split(","),n=0;n<a.length;n++){var l=t.source().id()+","+a[n].split("(")[1];delete d[l]}console.log(d)})),c.style().selector(".highlightedEdge").style({"line-color":"red","target-arrow-color":"red"}).update(),c.style().selector(".highlightedNode").style({"background-color":"red"}),null!==localStorage.getItem("snapshot")){var I=localStorage.getItem("snapshot"),w=LZString.decompress(I);k(JSON.parse(w))}document.addEventListener("keydown",(function(e){if(e.ctrlKey&&"z"===e.key&&r.length>1){r.pop();var t=r[r.length-1],a=LZString.decompress(t),n=JSON.parse(a);E(n),b(n)}})),document.getElementById("undo").addEventListener("click",(function(){if(r.length>1){r.pop();var e=r[r.length-1],t=LZString.decompress(e),a=JSON.parse(t);E(a),b(a)}})),c.cxtmenu({selector:"edge",menuRadius:80,commands:[{content:'<p class="text-xs">Add transition</p>',select:function(e){c.edges().forEach((t=>{t!==e&&t.unselect()})),c.nodes().forEach((e=>{e.unselect()})),e.select(),setTimeout((()=>{document.getElementById("modalTransition").classList.remove("hidden")}),50)}},{content:'<p class="text-xs">Delete edge</p>',select:function(e){y(e)}}],fillColor:"rgba(0, 0, 0, 0.55)",activeFillColor:"rgb(17, 24, 39)",activePadding:20,indicatorSize:24,separatorWidth:3,spotlightPadding:4,adaptativeNodeSpotlightRadius:!1,minSpotlightRadius:24,maxSpotlightRadius:38,openMenuEvents:"cxttapstart taphold",itemColor:"white",itemTextShadowColor:"transparent",zIndex:9999,atMouse:!0,outsideMenuCancel:!1}),c.cxtmenu({selector:"node",menuRadius:50,commands:[{content:'<p class="text-xs">Clear State</p>',select:function(e){p(e)}},{content:'<p class="text-xs">Delete State</p>',select:function(e){x(e)}}],fillColor:"rgba(0, 0, 0, 0.55)",activeFillColor:"rgb(17, 24, 39)",activePadding:20,indicatorSize:24,separatorWidth:3,spotlightPadding:4,adaptativeNodeSpotlightRadius:!1,minSpotlightRadius:24,maxSpotlightRadius:38,openMenuEvents:"cxttapstart taphold",itemColor:"white",itemTextShadowColor:"transparent",zIndex:9999,outsideMenuCancel:!1}),c.cxtmenu({selector:"core",menuRadius:70,commands:[{content:'<p class="text-xs">State mode</p>',select:function(e){(B=!B)?(c.on("tap",R),L.textContent="Disable state mode"):(c.off("tap",R),L.textContent="Enable state mode")}},{content:'<p class="text-xs">Draw mode</p>',select:function(e){T?(T=!1,_.disableDrawMode(),document.getElementById("drawMode").textContent="Enable draw mode"):(T=!0,_.enableDrawMode(),document.getElementById("drawMode").textContent="Disable draw mode")}}],fillColor:"rgba(0, 0, 0, 0.55)",activeFillColor:"rgb(17, 24, 39)",activePadding:20,indicatorSize:24,separatorWidth:3,spotlightPadding:4,adaptativeNodeSpotlightRadius:!1,minSpotlightRadius:24,maxSpotlightRadius:38,openMenuEvents:"cxttapstart taphold",itemColor:"white",itemTextShadowColor:"transparent",zIndex:9999,outsideMenuCancel:!1}),document.getElementById("fitContent").addEventListener("click",(function(){c.fit()}));var L=document.getElementById("addState"),B=!1;function R(e){if(e.target===c){var t=function(){let e=0;for(;0!==c.$(`#q${e}`).length;)e++;return"q"+e}();c.add({group:"nodes",data:{id:t,name:t},position:{x:e.position.x,y:e.position.y}}),i(),u()}}L.addEventListener("click",(function(){(B=!B)?(c.on("tap",R),L.textContent="Disable state mode"):(c.off("tap",R),L.textContent="Enable state mode")}));var _=c.edgehandles({canConnect:function(e,t){if(e.data("reject")||e.data("accept"))return!1;return!(e.edgesTo(t).length>0)},edgeParams:function(e,t){return{}},preview:!0,hoverDelay:150,snap:!1,snapThreshold:10,snapFrequency:30,noEdgeEventsInDraw:!0,disableBrowserGestures:!0}),T=!1;document.getElementById("drawMode").addEventListener("click",(function(){T?(T=!1,_.disableDrawMode(),document.getElementById("drawMode").textContent="Enable draw mode"):(T=!0,_.enableDrawMode(),document.getElementById("drawMode").textContent="Disable draw mode")})),c.on("tap","node",(function(e){var t,a,n,l,s,o;t=e.target,n=(a=t).data("start"),l=a.data("accept"),s=a.data("reject"),o=`\n<div class="p-2 t" id="${a.id()}">\n<div class="flex items-center mb-2">\n<svg class="w-6 h-6 mr-2 cursor-pointer" fill="none" id="mainControlPanel" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>\n</svg>\n<p class="text-lg text-center font-bold text-black">State panel</p>\n</div>\n<label for="stateName" class="block text-md font-bold text-black">State:</label>\n<input type="text" id="stateName" name="stateName" class="mt-1 p-2 w-full border-gray-300 focus:ring-blue-300 bg-[white] rounded-sm text-black  font-bold" value="${a.data("name")}">\n\n<fieldset class="mt-4">\n<legend class="sr-only">State Type</legend>\n\n<div class="flex items-center mb-4">\n<input id="start-state" type="radio" name="stateType" value="start" class="w-4 h-4 m-2 border-gray-300 focus:ring-2 focus:ring-blue-300 ${n?"selected":""}" ${n?"checked":""}>\n<label for="start-state" class="block ms-2 text-sm font-medium text-black">\n  Start State\n</label>\n</div>\n\n<div class="flex items-center mb-4">\n<input id="accept-state" type="radio" name="stateType" value="accept" class="w-4 h-4 m-2 border-gray-300 focus:ring-2 focus:ring-blue-300 ${l?"selected":""}" ${l?"checked":""}>\n<label for="accept-state" class="block ms-2 text-sm font-medium text-black">\n  Accept State\n</label>\n</div>\n\n<div class="flex items-center mb-4">\n<input id="reject-state" type="radio" name="stateType" value="reject" class="w-4 h-4 m-2 border-gray-300 focus:ring-2 focus:ring-blue-300 ${s?"selected":""}" ${s?"checked":""}>\n<label for="reject-state" class="block ms-2 text-sm font-medium text-black">\n  Reject State\n</label>\n</div>\n\n</fieldset>\n\n<div class="flex justify-center">\n<button class="text-white bg-[#111827] hover:bg-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-[#111827] dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 mb-2 w-full" type="button" id="clearState" >Clear State Type</button>\n</div>\n\n<div class="flex justify-center">\n<button class="text-white bg-[#111827] hover:bg-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-[#111827] dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 mb-2 w-full" type="button" id="deleteStateControl" >Delete State</button>\n</div>\n\n\n</div>\n\n`,document.getElementById("control").innerHTML=o,document.getElementById("mainControlPanel").addEventListener("click",(function(){q(),c.nodes().forEach((e=>{e.unselect()}))})),document.getElementById("start-state").addEventListener("change",(function(){m(a)})),document.getElementById("accept-state").addEventListener("change",(function(){f(a)})),document.getElementById("reject-state").addEventListener("change",(function(){g(a)})),document.getElementById("stateName").addEventListener("input",(function(){a.data("name",this.value),a.style("content",this.value)})),document.getElementById("clearState").addEventListener("click",(function(){p(a)})),document.getElementById("deleteStateControl").addEventListener("click",(function(){x(a)}))})),c.on("tap","edge",(function(e){S(e.target)})),c.on("ehcomplete",(function(e,t,a,n){i(),u()})),document.getElementById("deleteTransitionsSubmit").addEventListener("click",(function(){var t=document.querySelectorAll('input[type="checkbox"]');if(0!==t.length){var a=Array.from(t).filter((e=>e.checked));if(0===a.length)return document.getElementById("modal-alert-delete").classList.remove("hidden"),void(document.getElementById("modal-alert-delete").textContent="Please select at least one transition to delete");document.getElementById("modal-alert-delete").classList.add("hidden");var n=a.map((e=>parseInt(e.getAttribute("data-index")))),l=e.data("transitions");n.sort(((e,t)=>t-e)).forEach((t=>{var a=e.source().id()+","+l[t].currentSymbol;delete d[a],l.splice(t,1)})),e.data("transitions",l),console.log("transitions",l),console.log("transitionFunction",d);var s=l.map((e=>`(${e.currentSymbol}, ${e.nextSymbol}, ${e.direction})`)).join(", ");e.style("label",s),document.getElementById("modalTransitionDelete").classList.add("hidden"),i(),u()}else document.getElementById("deleteTransitionsSubmit").classList.add("hidden")})),document.getElementById("closeModalTransition").addEventListener("click",(function(){document.getElementById("modalTransition").classList.add("hidden"),document.getElementById("current-symbol").value="",document.getElementById("next-symbol").value="",document.getElementById("direction").value="",document.getElementById("modal-alert").classList.add("hidden")})),document.getElementById("closeModalTransitionDelete").addEventListener("click",(function(){document.getElementById("modalTransitionDelete").classList.add("hidden"),document.getElementById("modal-alert-delete").classList.add("hidden")})),document.getElementById("addTransitionSubmit").addEventListener("click",(function(){var t=document.getElementById("current-symbol").value,a=document.getElementById("next-symbol").value,n=document.getElementById("direction").value;if(""===t||""===a||""===n)return document.getElementById("modal-alert").classList.remove("hidden"),void(document.getElementById("modal-alert").textContent="Please fill in all fields");if(document.getElementById("modal-alert").classList.add("hidden"),"L"!==n&&"R"!==n)return document.getElementById("modal-alert").classList.remove("hidden"),void(document.getElementById("modal-alert").textContent="Direction must be L or R");if(o=e.source().id()+","+t,null!=d[o])return document.getElementById("modal-alert").classList.remove("hidden"),void(document.getElementById("modal-alert").textContent=`Transition already exists from state "${e.source().data("name")}" with symbol "${t}" `);e.data("transitions")||e.data("transitions",[]);var l=e.data("transitions");l.push({currentSymbol:t,nextSymbol:a,direction:n}),e.data("transitions",l);var s=l.map((e=>`(${e.currentSymbol}, ${e.nextSymbol}, ${e.direction})`)).join(", ");e.style({label:s,"text-wrap":"wrap","text-background-shape":"roundrectangle","font-size":"8px","font-family":"Arial, sans-serif","text-background-color":"#999999","text-background-opacity":.8}),document.getElementById("current-symbol").value="",document.getElementById("next-symbol").value="",document.getElementById("direction").value="";var o=e.source().id()+","+t;d[o]=[e.target().id(),a,n],console.log(d),document.getElementById("modalTransition").classList.add("hidden"),i(),u()}));const j=[{content:"<img src='./assets/stateModeGif.gif' alt='Tour Gif'' /><br/> Welcome to the tour guide! To create a state, click the highlighted button to enable state mode, then click anywhere on the canvas to create a state. Disable state mode when you're finished to <b>avoid accidental creation of more states.</b> Click next to continue the tour.",title:"State Mode",target:"#addState",order:1,group:"my-first-tour"},{content:"<img src='./assets/stateModeGif2.gif' alt='Tour Gif'' /><br/> In draw mode, you can draw edges between states by clicking on a state and dragging to another state. To create an edge from a state to itself, click and drag from the state back to itself.",title:"Draw Mode",target:"#drawMode",order:2,group:"my-first-tour"},{content:"Adjusts the canvas to display all content within the visible area.",title:"Fit Content",target:"#fitContent",order:3,group:"my-first-tour"},{content:"The import button lets you bring in a Turing machine from a JSON file exported from this platform previously.",title:"Import",target:"#importJson",order:4,group:"my-first-tour"},{content:"The export button allows you to save the Turing machine as a JSON file, which you can later import back into the platform. You can also export as an image",title:"Export",target:"#dropdownMenuButton",order:5,group:"my-first-tour"},{content:"The control panel is where you can enter the input for the Turing machine, set the speed of the Turing machine, and see the status of the Turing machine. The control panel is updated with the details of the node or edge that you click on. Click next to continue the tour.",title:"Control panel",target:"#control",order:5,group:"my-first-tour"},{content:"This canvas is where you create states and draw edges between them to build your Turing machine. You can pan by clicking and dragging, and zoom in and out using your scroll wheel.",title:"Canvas",target:"#cy",order:6,group:"my-first-tour"},{content:"This is the tape where you can observe how the Turing machine processes input. The tape extends infinitely in both directions. Feel free to explore the platform on your own now!",title:"Tape",target:"#tape",order:7,group:"my-first-tour"}],C=new tourguide.TourGuideClient({steps:j});document.getElementById("tour").addEventListener("click",(function(){C.start()})),document.addEventListener("keydown",(function(e){if("Delete"===e.key||"Del"===e.key){var t=c.$(":selected");t.length>0&&t.forEach((e=>{e.isNode()?x(e):e.isEdge()&&y(e)}))}})),c.on("tap",(function(e){e.target===c&&(q(),console.log("Current state of transition function",d),console.log("Current state of initial state",l),console.log("Current state of accept state",s),console.log("Current state of reject state",o))})),c.on("select","edge",(function(t){S(e=t.target)})),c.on("select",(function(e){c.$(":selected").length>1&&(document.getElementById("control").innerHTML='\n        <p class="text-center text-lg font-bold">Control Panel</p>\n        <div class="flex justify-center">\n        <button class="text-white bg-[#111827] hover:bg-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-[#111827] dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 m-2" type="button" id="deleteSelected" >Delete Selected</button>\n        </div>\n        ',document.getElementById("deleteSelected").addEventListener("click",(function(){var e=c.$(":selected");e.length>0&&(e.forEach((e=>{e.isNode()?x(e):e.isEdge()&&y(e)})),q())})))}));class M{constructor(e,t,a,n,l){this.tape=new Map,e.split("").forEach(((e,t)=>this.tape.set(t,e))),this.currentIdx=0,this.currentState=t,this.transitionFunction=a,this.finalStates=n,this.delay=l,this.haltFlag=!1}async step(){var e=this.tape.get(this.currentIdx);void 0===e&&(this.tape.set(this.currentIdx,"_"),e="_");const t=`${this.currentState},${e}`;if(!(t in this.transitionFunction))return!1;{const[a,n,l]=this.transitionFunction[t];if(0!=this.delay&&await new Promise((e=>setTimeout(e,this.delay))),this.haltFlag)return;0!=this.delay&&(v(this.tape,this.currentIdx),function(e,t,a,n){var l=c.edges(`[source = "${e}"][target = "${t}"]`),s=c.nodes(`[id = "${e}"]`);l.addClass("highlightedEdge"),s.addClass("highlightedNode");const o=l.style("label"),r=l.style("text-background-color");for(var d=o.split(","),i=0;i<d.length;i+=3)d[i].includes(a)&&l.style({label:d[i]+","+d[i+1]+","+d[i+2],"text-background-color":"red"});setTimeout((()=>{l.removeClass("highlightedEdge"),s.removeClass("highlightedNode"),l.style({label:o,"text-background-color":r})}),n)}(this.currentState,a,e,this.delay)),this.tape.set(this.currentIdx,n),this.currentIdx+="R"===l?1:-1,this.currentState=a}return!0}async halt(e){document.getElementById("cy").style.pointerEvents="auto",document.getElementById("tminput").style.pointerEvents="auto",document.getElementById("runtm").style.pointerEvents="auto";const t=this.getTape(),a=this.currentState,n=c.getElementById(a).data("name");var l="";c.getElementById(a).data("accept")?(l="accept",document.getElementById("tmStatusDiv").style.borderColor="green",document.getElementById("tmStatus").innerHTML=`\n          <p class="text-center text-green-600 text-lg font-semibold break-words" id="tmStatus">\n              <span class="text-xl font-bold">Turing machine halted.</span><br>\n              Final tape: ${t}<br>\n              Final state: ${l.toUpperCase()} \n          </p>`,v([],0),document.getElementById("tmhalt").classList.add("hidden")):c.getElementById(a).data("reject")?(l="reject",document.getElementById("tmStatusDiv").style.borderColor="red",document.getElementById("tmStatus").innerHTML=`\n          <p class="text-center text-red-600 text-lg font-semibold break-words" id="tmStatus">\n          <span class="text-xl font-bold">Turing machine halted.</span><br>\n          Final tape: ${t}<br>\n          Final state: ${l.toUpperCase()}\n      </p>`,v([],0),document.getElementById("tmhalt").classList.add("hidden")):c.getElementById(a).data("accept")||c.getElementById(a).data("reject")||e?e&&(l="halt",document.getElementById("tmStatusDiv").style.borderColor="red",document.getElementById("tmStatus").innerHTML=`\n          <p class="text-center text-red-600 text-lg font-semibold break-words" id="tmStatus">The turing machine was manually halted.</p>\n          <p class="text-center text-red-600 text-lg font-semibold break-words" id="tmStatus">\n              Final tape: ${t}<br>\n              Final state: ${n}\n          </p>`,v([],0)):(l="halt",document.getElementById("tmStatusDiv").style.borderColor="red",document.getElementById("tmStatus").innerHTML=`\n        \n          <p class="text-center text-red-600 text-lg font-semibold break-words" id="tmStatus">The turing machine halted. No valid transition for state "${n}" and symbol "${this.tape.get(this.currentIdx)}".</p>\n          <p class="text-center text-red-600 text-lg font-semibold break-words" id="tmStatus">\n              Final tape: ${t}<br>\n              Final state: ${n}<br>\n              Status: REJECT\n          </p>`,v([],0),document.getElementById("tmhalt").classList.add("hidden"))}async run(){document.getElementById("cy").style.pointerEvents="none",document.getElementById("tminput").style.pointerEvents="none",document.getElementById("runtm").style.pointerEvents="none";for(var e=0,t=5e5;!(this.finalStates.includes(this.currentState)||this.haltFlag||++e>t);){if(!await this.step())break}!this.haltFlag&&e<=t?this.halt(!1):e>t&&!this.haltFlag&&(document.getElementById("tmStatusDiv").style.borderColor="red",document.getElementById("tmStatus").innerHTML='<p class="text-center text-red-600 text-lg font-semibold" id="tmStatus">\n            The turing machine was halted because it took too long to process the input. The turing machine may be in an infinite loop. 500,000 steps were executed.\n            </p>',document.getElementById("cy").style.pointerEvents="auto",document.getElementById("tminput").style.pointerEvents="auto",document.getElementById("runtm").style.pointerEvents="auto",document.getElementById("tmhalt").classList.add("hidden"))}getTape(){const e=[];return Array.from(this.tape.keys()).sort(((e,t)=>e-t)).forEach((t=>{e.push(this.tape.get(t))})),e.join("")}}var $=document.getElementById("tminput");function F(){document.getElementById("overlay").style.display="flex"}function D(){document.getElementById("overlay").style.display="none"}$.addEventListener("input",(function(){t=$.value,console.log(t)})),document.getElementById("clearCanvas").addEventListener("click",(function(){h()})),document.getElementById("runtm").addEventListener("click",(function(){var e=document.getElementById("tminput").value;if(null==l)return document.getElementById("tmStatusDiv").style.borderColor="red",void(document.getElementById("tmStatus").innerHTML='<p class="text-center text-red-600 text-lg font-semibold" id="tmStatus">\n          Please select a start state.\n          </p>');if(null==s)return document.getElementById("tmStatusDiv").style.borderColor="red",void(document.getElementById("tmStatus").innerHTML='<p class="text-center text-red-600 text-lg font-semibold" id="tmStatus">\n          Please select an accept state.\n          </p>');if(null==o)return document.getElementById("tmStatusDiv").style.borderColor="red",void(document.getElementById("tmStatus").innerHTML='<p class="text-center text-red-600 text-lg font-semibold" id="tmStatus">\n          Please select a reject state.\n          </p>');document.getElementById("tmStatus").innerHTML="",document.getElementById("tmStatusDiv").style.borderColor="#FAF0E6";var t=l,a=[s,o],n=d,r=document.getElementById("speed").value,c=new M(e,t,n,a,r);c.run();var i=document.getElementById("tmhalt");document.getElementById("tmhalt").classList.remove("hidden"),i.addEventListener("click",(function(){c.halt(!0),c.haltFlag=!0,document.getElementById("tmhalt").classList.add("hidden")}))})),document.getElementById("dropdownMenuButton").addEventListener("click",(function(){document.getElementById("dropdownMenuArea").classList.toggle("hidden")})),document.getElementById("dropdownMenuButtonGuides").addEventListener("click",(function(){document.getElementById("dropdownMenuAreaGuides").classList.toggle("hidden")})),document.getElementById("dropdownMenuButtonExamples").addEventListener("click",(function(){document.getElementById("dropdownMenuAreaExamples").classList.toggle("hidden")})),Object.keys(n).forEach((e=>{document.getElementById(e).addEventListener("click",(function(){k(JSON.parse(n[e]))}))})),window.addEventListener("click",(function(e){e.target.matches("#dropdownMenuButton")||document.getElementById("dropdownMenuArea").classList.contains("hidden")||document.getElementById("dropdownMenuArea").classList.add("hidden"),e.target.matches("#dropdownMenuButtonGuides")||document.getElementById("dropdownMenuAreaGuides").classList.contains("hidden")||document.getElementById("dropdownMenuAreaGuides").classList.add("hidden"),e.target.matches("#dropdownMenuButtonExamples")||document.getElementById("dropdownMenuAreaExamples").classList.contains("hidden")||document.getElementById("dropdownMenuAreaExamples").classList.add("hidden")})),document.getElementById("exportAsPng").addEventListener("click",(function(){if(0!==c.elements().length){var e=c.jpeg(),t=document.createElement("a");t.href=e,t.download="turing-machine.png",t.click(),a.info("PNG exported successfully!",{durations:{info:2e3},labels:{info:"Exported"}})}else a.info("The canvas is empty. Please create a Turing machine before exporting.",{durations:{info:3e3},labels:{info:"Empty Canvas"}})})),document.getElementById("exportAsJson").addEventListener("click",(function(){if(0===c.elements().length)return void a.info("The canvas is empty. Please create a Turing machine before exporting.",{durations:{info:3e3},labels:{info:"Empty Canvas"}});const e={identifier:"tmSimulatorDelanoMartin",elements:c.elements().jsons(),transitionFunction:d,startState:l,acceptState:s,rejectState:o};var t=document.createElement("a");t.href="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),t.download="turing-machine.json",t.click(),a.info("JSON exported successfully",{durations:{info:2e3},labels:{info:"Exported"}})})),document.getElementById("importJson").addEventListener("click",(function(){document.getElementById("importJsonBtn").click()})),document.getElementById("importJsonBtn").addEventListener("change",(async function(e){F();const t=e.target,n=t.files[0];if(!n)return void D();if("application/json"!==n.type)return a.info("The selected file is not a JSON file. Please select a valid JSON file.",{durations:{info:5e3},labels:{info:"Invalid File Type"}}),void D();const r=new FileReader;r.onload=async function(e){try{const t=JSON.parse(e.target.result);if("tmSimulatorDelanoMartin"!==t.identifier)return a.info("The imported JSON file is not recognized. Please make sure you are using a file exported from our platform that contains the necessary Turing machine data.",{durations:{info:5e3},labels:{info:"Invalid File"}}),void D();if(0===t.elements.length)return a.info("The imported JSON file does not contain any Turing machine data. Please make sure you are using a file exported from our platform that contains the necessary Turing machine data.",{durations:{info:5e3},labels:{info:"Empty File"}}),void D();l=t.startState,s=t.acceptState,o=t.rejectState,c.elements().length>0&&await c.elements().remove(),d=t.transitionFunction,await c.json(t),c.edges().forEach((e=>{var t=e.source().id();e.target().id();if(e.data("transitions")){var a=e.data("transitions").map((e=>{var a=t+","+e.currentSymbol,n=d[a];return{currentSymbol:e.currentSymbol,nextSymbol:n[1],direction:n[2]}}));e.data("transitions",a);var n=a.map((e=>`(${e.currentSymbol}, ${e.nextSymbol}, ${e.direction})`)).join(", ");e.style({label:n,"text-wrap":"wrap","text-background-shape":"roundrectangle","font-size":"8px","font-family":"Arial, sans-serif","text-background-color":"#999999","text-background-opacity":.8})}})),null!=l&&m(c.$("#"+l)),null!=s&&f(c.$("#"+s)),null!=o&&g(c.$("#"+o)),a.info("Turing machine imported successfully",{durations:{success:2e3},labels:{info:"Imported"}})}catch(e){a.info("An error occurred while importing the JSON file. Please make sure the file is in the correct format.",{durations:{info:5e3},labels:{info:"Import Error"}})}finally{await c.fit(),D()}},r.readAsText(n),t.value=null})),document.getElementById("navbarToggle").addEventListener("click",(function(){document.getElementById("navbarMobile").classList.toggle("hidden")}))}));